{
  "hash": "54804fde4a1cb09f2e5d9de506038044",
  "result": {
    "markdown": "---\ntitle: \"How to setup a Quarto blog with gh-pages\"\nauthor: \"matthias berger\"\ndate: \"2023-01-29\"\ncategories: [howto]\n---\n\n\n![](images/image-193588858.png){fig-alt=\"\\\"Starting a Quarto blog\\\" prompt on https://stablediffusionweb.com/#demo\"}\n\nThis is the first post in a Quarto blog. And since I do not know how to setup my gh-pages with it, I just write about how I found out.\n\n#TODO (using RStudio Quarto Blog template)\n\nStarting from [here](https://quarto.org/docs/publishing/github-pages.html \"https://quarto.org/docs/publishing/github-pages.html\"), I decide to take route number 3 (Use a [GitHub Action](https://quarto.org/docs/publishing/github-pages.html#github-action) to automatically render your files).\n\nAs recommended, I add the `/_site/` directory to my `.gitignore` file.\n\nThen, in order to keep code only executing locally, freeze the computation\n\n``` {.yaml filename=\"_quarto.yml\"}\nexecute:\n  freeze: auto\n```\n\nNext, I create a file named `publish.yml`\n\n``` {.yaml filename=\".github/workflows/publish.yml\"}\non:\n  workflow_dispatch:\n  push:\n    branches: main\n\nname: Quarto Publish\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    steps:\n      - name: Check out repository\n        uses: actions/checkout@v3\n\n      - name: Set up Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n\n      - name: Render and Publish\n        uses: quarto-dev/quarto-actions/publish@v2\n        with:\n          target: gh-pages\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n```\n\nNow, I check everything into my git repository and push to github. gh-pages should be initialized and I am ready to go.\n\nAs described [here](https://gist.github.com/Z3tt/3dab3535007acf108391649766409421 \"https://gist.github.com/Z3tt/3dab3535007acf108391649766409421\") I use `{usethis}` to initialize my github credentials, so first I have to install the package:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"usethis\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nInstalling usethis [2.1.6] ...\n\tOK [linked cache]\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncredentials::set_github_pat(\"<my-gh-PAT>\")\n```\n:::\n\n\nIf you don't have a PAT, follow the instructions in the link above. To store the token permanently, use the .Renviron file of your project. \n\nIt is really easy! But I don't know why, I had to create the branch `gh-pages` on the remote manually to make the build-job work. Before github actions were failing with a error hinting to a missing `_publish.yml`. [Here](https://github.com/quarto-dev/quarto-cli/issues/3147 \"https://github.com/quarto-dev/quarto-cli/issues/3147\") I found out about the missing branch.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}